#!/bin/bash

# Clone dotfile here
DOTFILES_DIR="$HOME/.dotfiles"

# Clone dotfiles from here
GIT_REPO_URL="https://github.com/lucasherediadv/dotfiles.git"

# Create dotfiles directory if it dosen't exist
mkdir "$DOTFILES_DIR"

# Set git alias for dotfiles
alias dotfiles='/usr/bin/git --git-dir=$DOTFILES_DIR/ --work-tree=$HOME'

# Source repository ignore the folder where you will clone it
# so that you don't create weird recursion problems
echo "$DOTFILES_DIR" >> "$HOME/.gitignore"

# Clone bare git repository
git clone --bare "$GIT_REPO_URL" "$DOTFILES_DIR"

# Checkout the actual content from the bare repository
# -f will rewrite the already existing files
dotfiles checkout -f

# Configure git to ignore untracked files
dotfiles config status.showUntrackedFiles no

